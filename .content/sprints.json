{
  "projectName": "Skill Builder UI",
  "approach": "Frontend-first with dummy data/mock APIs to enable rapid UI iteration and early testing of agent workflows",
  "sprints": [
    {
      "id": 1,
      "name": "Project Setup & Navigation Shell",
      "status": "complete",
      "goal": "Establish the project foundation with Next.js and create the global navigation structure",
      "requirements": [
        "Initialize Next.js project with TypeScript",
        "Configure project structure following Next.js App Router conventions",
        "Create global layout with persistent navigation toolbar",
        "Implement icon-based navigation for all 8 primary views: File Browser, Version Graph, Terminal, Skill Builder, Skill Tester, Test Sets, Analysis Sets, Editor Tabs",
        "Create placeholder page components for each view",
        "Navigation state management (active view highlighting)",
        "Basic responsive layout foundation"
      ],
      "passingConditions": [
        "Running `npm run dev` starts the application without errors",
        "All 8 navigation icons are visible in the toolbar",
        "Clicking each icon routes to its respective placeholder page",
        "Active navigation item is visually highlighted",
        "Layout maintains structure across all views"
      ],
      "deliverables": [
        "Next.js project with TypeScript configuration",
        "Global layout component with navigation toolbar",
        "8 placeholder page/view components",
        "Basic CSS/styling foundation"
      ],
      "estimatedDays": 2
    },
    {
      "id": 2,
      "name": "File Browser & Monaco Editor Integration",
      "status": "complete",
      "goal": "Implement the file tree viewer and Monaco code editor with tab management",
      "requirements": [
        "Create file tree component displaying skill folder structure",
        "Implement tree navigation (expand/collapse folders)",
        "Integrate Monaco Editor for code editing",
        "Implement tab system for multiple open files",
        "Click file in tree opens it in new editor tab",
        "Syntax highlighting based on file type (markdown, javascript, python, etc.)",
        "Create mock skill folder data with Skill.md and sample scripts",
        "Visual indication of currently active tab"
      ],
      "passingConditions": [
        "File tree displays mock skill folder structure",
        "Folders can be expanded and collapsed",
        "Clicking a file opens it in Monaco editor tab",
        "Multiple files can be open simultaneously as tabs",
        "Switching tabs shows correct file content",
        "Syntax highlighting works for .md, .js, .py, and .ts files",
        "Monaco editor is fully functional (typing, selection, undo/redo)"
      ],
      "deliverables": [
        "FileTree component with expand/collapse functionality",
        "MonacoEditor wrapper component",
        "TabManager component for multi-file editing",
        "Mock skill data (Skill.md, sample scripts)"
      ],
      "estimatedDays": 3
    },
    {
      "id": 3,
      "name": "VS Code Layout Restructure",
      "status": "complete",
      "goal": "Refactor from route-based navigation to VS Code-style three-pane workspace",
      "requirements": [
        "Convert navigation from vertical 48px sidebar to horizontal icons at top of dynamic sidebar",
        "Reduce icons from 8 to 7 (remove Editor - files open from File Browser)",
        "Replace 8 routes with single workspace architecture",
        "Implement dynamic sidebar that updates based on active icon",
        "Create global tab management across all contexts (WorkspaceContext)",
        "Ensure tabs persist when switching sidebar icons",
        "Refactor existing FileTree/MonacoEditor/TabManager to work in new layout",
        "Add status bar showing current version"
      ],
      "passingConditions": [
        "All 7 icons visible in horizontal strip at top of sidebar",
        "Clicking icon switches sidebar content immediately",
        "Clicking item in sidebar opens/focuses a tab",
        "Tabs persist when switching between sidebar icons",
        "File Browser + Monaco editor still work in new layout",
        "Multiple tab types can coexist in tab bar",
        "Status bar shows 'Current Version: V1'"
      ],
      "deliverables": [
        "WorkspaceContext for global state",
        "WorkspaceLayout component (orchestrates sidebar + tabs + content)",
        "DynamicSidebar component with icon strip",
        "Refactored Navigation as icon buttons",
        "7 sidebar placeholder components",
        "StatusBar component"
      ],
      "estimatedDays": 3
    },
    {
      "id": 4,
      "name": "Version Graph View",
      "status": "complete",
      "goal": "Implement version list sidebar and read-only version viewer tab",
      "requirements": [
        "Version list in sidebar (vertical list: V8, V7, V6...)",
        "Current version indicator (green badge)",
        "Clicking version opens Read-only Viewer tab",
        "Read-only tab shows file tree of that version snapshot",
        "'Checkout this Version' button in viewer tab",
        "Checkout action replaces working files with snapshot",
        "Mock version history data"
      ],
      "passingConditions": [
        "Clicking Graph icon shows version list in sidebar",
        "Clicking a version opens read-only viewer tab",
        "Viewer tab displays file tree of that version",
        "Current version has green indicator",
        "'Checkout' button loads that version into workspace",
        "Multiple version tabs can be open simultaneously"
      ],
      "deliverables": [
        "VersionListSidebar component",
        "VersionViewerTab component (read-only file tree)",
        "Mock version history data"
      ],
      "estimatedDays": 2
    },
    {
      "id": 5,
      "name": "Terminal View",
      "status": "pending",
      "goal": "Implement terminal sidebar and terminal tab",
      "requirements": [
        "Sidebar shows single item: 'Global Session'",
        "Clicking opens/focuses Terminal tab",
        "xterm.js terminal in main workspace tab",
        "Dark theme matching IDE aesthetic",
        "Environment selector (Node, Bash) in terminal tab header",
        "Mock command execution with simulated responses",
        "Command history support",
        "Clear terminal functionality"
      ],
      "passingConditions": [
        "Terminal icon shows 'Global Session' in sidebar",
        "Clicking opens Terminal tab",
        "Terminal is singleton (clicking again focuses existing tab)",
        "User can type commands, see mock responses",
        "Environment dropdown switches between Node/Bash",
        "Up arrow cycles through command history",
        "Clear command clears terminal output"
      ],
      "deliverables": [
        "TerminalSidebar component",
        "TerminalTab component with xterm.js",
        "Mock command handler"
      ],
      "estimatedDays": 2
    },
    {
      "id": 6,
      "name": "Skill Tester View",
      "status": "pending",
      "goal": "Implement tester sidebar with run threads and run tabs",
      "requirements": [
        "Sidebar lists run threads (e.g., 'Figma Blog Run', 'Anthropic Blog Run')",
        "New Run button creates thread",
        "Clicking thread opens/focuses Run tab",
        "Run tab has: model selector, prompt input, output area",
        "Expandable trajectory sections in output",
        "Real-time streaming simulation",
        "'Add to Analysis Set' action on run",
        "'Add prompt to Test Set' action"
      ],
      "passingConditions": [
        "Tester icon shows run threads in sidebar",
        "New thread can be created",
        "Clicking thread opens Run tab",
        "Submit prompt shows mock streaming output",
        "Trajectory sections expand/collapse",
        "Action buttons provide UI feedback"
      ],
      "deliverables": [
        "TesterThreadsSidebar component",
        "RunTab component",
        "Mock streaming utility",
        "Mock trajectory data"
      ],
      "estimatedDays": 3
    },
    {
      "id": 7,
      "name": "Test Sets View",
      "status": "pending",
      "goal": "Implement test sets sidebar and manager tab with cross-navigation",
      "requirements": [
        "Sidebar lists test set collections",
        "Create new test set",
        "Clicking test set opens Test Set Manager tab",
        "Manager tab shows prompts in that set",
        "Add/edit/delete prompts",
        "'Trigger Runs' button: (1) switches to Tester icon, (2) spawns N runs, (3) adds to Tester sidebar"
      ],
      "passingConditions": [
        "TestSets icon shows collection list",
        "Clicking opens Test Set Manager tab",
        "Prompts can be added/edited/deleted",
        "'Trigger Runs' switches sidebar to Tester",
        "N new run threads appear in Tester sidebar",
        "Progress indicators show during batch execution"
      ],
      "deliverables": [
        "TestSetsSidebar component",
        "TestSetManagerTab component",
        "Cross-navigation logic (sidebar switching)"
      ],
      "estimatedDays": 2
    },
    {
      "id": 8,
      "name": "Analysis Sets View",
      "status": "pending",
      "goal": "Implement analysis sets sidebar and manager tab with cross-navigation",
      "requirements": [
        "Sidebar lists analysis set collections",
        "Create new analysis set",
        "Clicking opens Analysis Set Manager tab",
        "Manager tab shows runs in that set (prompt, timestamp, version)",
        "Add/remove runs",
        "'Analyze Runs' button: (1) switches to Builder icon, (2) creates new thread, (3) opens Chat tab with runs pre-loaded"
      ],
      "passingConditions": [
        "Analysis icon shows collection list",
        "Clicking opens Analysis Set Manager tab",
        "Runs display with metadata",
        "'Analyze Runs' switches sidebar to Builder",
        "New Builder thread is created",
        "Chat tab opens with selected runs in context"
      ],
      "deliverables": [
        "AnalysisSetsSidebar component",
        "AnalysisSetManagerTab component",
        "Cross-navigation logic"
      ],
      "estimatedDays": 2
    },
    {
      "id": 9,
      "name": "Skill Builder View",
      "status": "pending",
      "goal": "Implement builder sidebar with threads and chat tabs",
      "requirements": [
        "Sidebar lists builder threads",
        "New thread creation",
        "Clicking thread opens Chat tab",
        "Chat interface with message input",
        "'Select Runs/Analysis Set' for context",
        "Mock agent responses with inline diffs",
        "Each diff has 'Apply' button",
        "'Apply' updates working file and any open editor tabs"
      ],
      "passingConditions": [
        "Builder icon shows thread list",
        "New thread can be created",
        "Chat tab displays user/agent messages",
        "Agent response includes diff block",
        "'Apply' button updates the working file",
        "Open editor tabs refresh with applied changes"
      ],
      "deliverables": [
        "BuilderThreadsSidebar component",
        "ChatTab component",
        "InlineDiff component",
        "Apply change logic"
      ],
      "estimatedDays": 3
    },
    {
      "id": 10,
      "name": "State Management & Versioning",
      "status": "pending",
      "goal": "Centralized state management with dirty version logic",
      "requirements": [
        "Zustand store for all entities",
        "TypeScript interfaces matching spec",
        "Dirty version tracking (edits without save)",
        "Snapshot on Run: creates new version, executes against it",
        "Snapshot on explicit Save: creates new version",
        "Version indicator updates in status bar",
        "Cross-component state sync"
      ],
      "passingConditions": [
        "Editing file marks version as 'dirty'",
        "Clicking Run creates new version snapshot first",
        "Manual Save creates new version",
        "Status bar shows current version number",
        "State changes reflect across all components"
      ],
      "deliverables": [
        "Zustand store setup",
        "Version snapshot logic",
        "TypeScript interfaces",
        "Updated components using store"
      ],
      "estimatedDays": 3
    },
    {
      "id": 11,
      "name": "Real-time Streaming Simulation",
      "status": "pending",
      "goal": "Implement simulated real-time streaming for run output",
      "requirements": [
        "Simulate WebSocket-like streaming for run output",
        "Incremental text rendering during mock runs",
        "Loading states and progress indicators",
        "Mid-run message sending simulation",
        "Simulate parallel test execution progress",
        "Connection status indicators"
      ],
      "passingConditions": [
        "Starting a run shows incremental output (not all at once)",
        "Text streams in progressively during mock execution",
        "Loading spinner shows while run is 'in progress'",
        "User can send message during run (mock steering)",
        "Test Set trigger shows progress across parallel runs",
        "Run completion triggers proper state transition"
      ],
      "deliverables": [
        "Streaming simulation utility",
        "Updated RunOutput component with streaming support",
        "Progress indicators for batch operations",
        "Connection status component"
      ],
      "estimatedDays": 2
    },
    {
      "id": 12,
      "name": "Backend API Foundation",
      "status": "pending",
      "goal": "Implement real Next.js API routes with basic functionality",
      "requirements": [
        "Set up Next.js API routes structure",
        "Implement Skills CRUD endpoints (GET, POST, DELETE)",
        "Implement Versions endpoints (list, create, checkout)",
        "Implement Runs endpoints (list, create, get details)",
        "Implement TestSets endpoints",
        "Implement AnalysisSets endpoints",
        "In-memory storage for initial development",
        "Connect frontend mock API calls to real endpoints"
      ],
      "passingConditions": [
        "All API endpoints return valid responses",
        "Skills can be created, listed, and deleted via API",
        "Versions can be listed and created",
        "Runs can be listed and details fetched",
        "TestSets and AnalysisSets CRUD operations work",
        "Frontend connects to real API instead of mock data",
        "API error handling returns proper error responses"
      ],
      "deliverables": [
        "API route files for all endpoints",
        "In-memory data store",
        "API error handling utilities",
        "Updated frontend API service to use real endpoints"
      ],
      "estimatedDays": 3
    },
    {
      "id": 13,
      "name": "File Storage Integration",
      "status": "pending",
      "goal": "Implement file storage for skills and version management",
      "requirements": [
        "Local file system storage for development (GCS-ready structure)",
        "Content-addressable file storage implementation",
        "Version manifest storage and retrieval",
        "File CRUD operations via API",
        "Skill folder mounting/loading",
        "Version checkout with file loading"
      ],
      "passingConditions": [
        "Skill files can be saved and retrieved",
        "Editing a file persists changes",
        "Version manifests correctly reference file hashes",
        "Checking out a version loads correct files",
        "Unchanged files are not duplicated across versions",
        "File tree reflects actual stored files"
      ],
      "deliverables": [
        "File storage service",
        "Content-addressable storage implementation",
        "Version manifest handlers",
        "Updated API endpoints for file operations"
      ],
      "estimatedDays": 3
    },
    {
      "id": 14,
      "name": "WebSocket Real-time Communication",
      "status": "pending",
      "goal": "Implement real WebSocket server for run streaming",
      "requirements": [
        "Set up WebSocket server alongside Next.js",
        "Implement connection management",
        "Stream run output in real-time",
        "Handle mid-run user messages",
        "Connection reconnection handling",
        "Multiple simultaneous connection support"
      ],
      "passingConditions": [
        "WebSocket connection establishes successfully",
        "Run output streams to connected clients",
        "User can send messages during active run",
        "Disconnection is handled gracefully",
        "Reconnection restores stream state",
        "Multiple runs can stream simultaneously"
      ],
      "deliverables": [
        "WebSocket server implementation",
        "Client WebSocket service",
        "Connection management utilities",
        "Updated RunOutput with real streaming"
      ],
      "estimatedDays": 3
    },
    {
      "id": 15,
      "name": "Agent SDK Integration (Tester Agent)",
      "status": "pending",
      "goal": "Integrate Claude Agent SDK for skill testing",
      "requirements": [
        "Set up Claude Agent SDK",
        "Implement Tester Agent execution",
        "Skill file mounting to agent sandbox",
        "Trajectory capture and storage",
        "Run metrics collection (tokens, duration, tool calls)",
        "Agent loop with user message injection",
        "Error handling for failed runs"
      ],
      "passingConditions": [
        "Tester Agent can execute a skill against a prompt",
        "Agent has access to mounted skill files",
        "Full trajectory is captured and stored",
        "Run metrics are calculated correctly",
        "User messages can steer agent mid-run",
        "Failed runs are marked correctly with partial trajectory",
        "Output streams back to frontend in real-time"
      ],
      "deliverables": [
        "Tester Agent service",
        "Sandbox file mounting logic",
        "Trajectory storage implementation",
        "Metrics calculation utilities"
      ],
      "estimatedDays": 4
    },
    {
      "id": 16,
      "name": "Agent SDK Integration (Builder Agent)",
      "status": "pending",
      "goal": "Integrate Claude Agent SDK for skill improvements",
      "requirements": [
        "Implement Builder Agent execution",
        "Run history access tools for Builder Agent",
        "Trajectory analysis capabilities",
        "Diff generation for suggested changes",
        "Suggestion ranking (confidence/impact)",
        "Apply suggestion logic (new version vs overwrite)"
      ],
      "passingConditions": [
        "Builder Agent can analyze selected runs",
        "Agent can read conversation histories from past runs",
        "Agent generates suggested changes as diffs",
        "Suggestions include confidence/impact ranking",
        "Accepting suggestion creates new version when runs exist",
        "Accepting suggestion overwrites when no runs exist"
      ],
      "deliverables": [
        "Builder Agent service",
        "Run history access tools",
        "Diff generation utilities",
        "Suggestion application logic"
      ],
      "estimatedDays": 4
    },
    {
      "id": 17,
      "name": "Polish & Integration Testing",
      "status": "pending",
      "goal": "Final polish, bug fixes, and end-to-end testing",
      "requirements": [
        "End-to-end workflow testing (all key workflows from spec)",
        "Bug fixes from integration testing",
        "UI/UX polish and consistency review",
        "Performance optimization for common operations",
        "Error handling improvements",
        "Loading states and feedback throughout",
        "Documentation of setup and usage"
      ],
      "passingConditions": [
        "Create skill -> test -> improve -> version workflow works end-to-end",
        "Test set batch execution works correctly",
        "Analysis set curation -> Builder suggestion works",
        "Version checkout and branching works correctly",
        "No critical bugs in core workflows",
        "UI is responsive and consistent",
        "Setup documentation allows new developer to run project"
      ],
      "deliverables": [
        "Bug fixes and refinements",
        "README with setup instructions",
        "Known issues documentation",
        "Demo-ready application"
      ],
      "estimatedDays": 3
    }
  ],
  "totalEstimatedDays": 47,
  "phases": {
    "phase1_frontend_shell": {
      "sprints": [1, 2, 3, 4, 5, 6, 7, 8, 9],
      "description": "Complete frontend with VS Code layout, mock data - all views functional as tabs with dynamic sidebar",
      "estimatedDays": 22
    },
    "phase2_state_streaming": {
      "sprints": [10, 11],
      "description": "State management with dirty version logic and simulated real-time features",
      "estimatedDays": 5
    },
    "phase3_backend": {
      "sprints": [12, 13, 14],
      "description": "Real API, storage, and WebSocket implementation",
      "estimatedDays": 9
    },
    "phase4_agents": {
      "sprints": [15, 16],
      "description": "Claude Agent SDK integration for both agents",
      "estimatedDays": 8
    },
    "phase5_polish": {
      "sprints": [17],
      "description": "Integration testing and final polish",
      "estimatedDays": 3
    }
  },
  "notes": {
    "layoutChange": "Sprint 3 introduces the VS Code three-pane layout: horizontal icon bar at top of sidebar, dynamic sidebar content, global tab management",
    "mvpCheckpoint": "After Sprint 11, you have a fully interactive frontend that can be used to test UX and iterate on design without backend dependencies",
    "frontendFirstRationale": "Starting with frontend allows rapid iteration on agent interaction patterns and UX before building backend infrastructure",
    "parallelization": "Once Sprint 10 is complete, backend work (Sprints 12-14) could potentially run in parallel with agent integration planning",
    "crossNavigation": "Test Sets -> Tester and Analysis -> Builder cross-navigation implemented in Sprints 7-8"
  }
}
